<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Friend Finder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div class="card bg-info">
            <div class="card-header bg-warning">
                <h1 class="card-title text-center">Answer below questions to find your Best Buddy!</h1>
            </div>
            <div class="card-body bg-info">

                <h2>About You</h2>
                <h4> Name</h4>
                <input type="text" class="form-control" id="Username" placeholder="Username" aria-label="Username"
                    aria-describedby="basic-addon1">
                <br>
                <h4> Photo Link </h4>
                <input type="text" class="form-control" id="Image" placeholder="Image" aria-label="Image"
                    aria-describedby="basic-addon1">
                <br>
                <hr>

                <h4> Questions </h4>
                <div class="row">
                    <div class="col-md-6">
                        <strong>
                            <p class="card-text">You consider your self a party person</p>
                        </strong>
                    </div>
                    <div class="col-md-3">

                        <select class="custom-select" id="inputGroupSelect01">
                            <option selected>Choose...</option>
                            <option value="1">1 (Strongly Disagree) </option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="3">4</option>
                            <option value="1">5 (Strongly Agree) </option>
                        </select>

                    </div>
                </div>
                <br>
                <br>
                <div class="row">
                    <div class="col-md-6">
                        <strong>
                            <p class="card-text">You like to talk about intellectual things like art and philosophy</p>
                        </strong>

                    </div>
                    <div class="col-md-3">

                        <select class="custom-select" id="inputGroupSelect02">
                            <option selected>Choose...</option>
                            <option value="1">1 (Strongly Disagree) </option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="3">4</option>
                            <option value="1">5 (Strongly Agree) </option>
                        </select>
                    </div>
                </div>

                <br>
                <br>
                <div class="row">
                    <div class="col-md-6">
                        <strong>
                            <p class="card-text">You like to Travel around the world</p>
                        </strong>
                    </div>


                    <div class="col-md-3">
                        <select class="custom-select" id="inputGroupSelect03">
                            <option selected>Choose...</option>
                            <option value="1">1 (Strongly Disagree) </option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="3">4</option>
                            <option value="1">5 (Strongly Agree) </option>
                        </select>
                    </div>
                </div>

                <br>
                <br>
                <div class="row">
                    <div class="col-md-6">
                        <strong>
                            <p class="card-text">You are spiritual person </p>
                        </strong>
                    </div>


                    <div class="col-md-3">
                        <select class="custom-select" id="inputGroupSelect04">
                            <option selected>Choose...</option>
                            <option value="1">1 (Strongly Disagree) </option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="3">4</option>
                            <option value="1">5 (Strongly Agree) </option>
                        </select>
                    </div>
                </div>

                <br>
                <br>
                <div class="row">
                    <div class="col-md-6">
                        <strong>
                            <p class="card-text">You Like to discuss ideas</p>
                        </strong>
                    </div>


                    <div class="col-md-3">
                        <select class="custom-select" id="inputGroupSelect05">
                            <option selected>Choose...</option>
                            <option value="1">1 (Strongly Disagree) </option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="3">4</option>
                            <option value="1">5 (Strongly Agree) </option>
                        </select>
                    </div>
                </div>

                <br>
                <br>
                <div class="row">
                    <div class="col-md-6">
                        <strong>
                            <p class="card-text">You like to have Dog as your pet</p>
                        </strong>

                    </div>

                    <div class="col-md-3">
                        <select class="custom-select" id="inputGroupSelect06">
                            <option selected>Choose...</option>
                            <option value="1">1 (Strongly Disagree) </option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="3">4</option>
                            <option value="1">5 (Strongly Agree) </option>
                        </select>
                    </div>
                </div>
                <br>
                <br>
                <div class="row">
                    <div class="col-md-6">
                        <strong>
                            <p class="card-text">You like to exercise everyday</p>
                        </strong>
                    </div>
                    <div class="col-md-3">
                        <select class="custom-select" id="inputGroupSelect07">
                            <option selected>Choose...</option>
                            <option value="1">1 (Strongly Disagree) </option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="3">4</option>
                            <option value="1">5 (Strongly Agree) </option>
                        </select>
                    </div>
                </div>
                <br>
                <br>
                <div class="row">
                    <div class="col-md-6">
                        <strong>
                            <p class="card-text">You like to keep things organised and clean</p>
                        </strong>
                    </div>
                    <div class="col-md-3">
                        <select class="custom-select" id="inputGroupSelect08">
                            <option selected>Choose...</option>
                            <option value="1">1 (Strongly Disagree) </option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="3">4</option>
                            <option value="1">5 (Strongly Agree) </option>
                        </select>
                    </div>
                </div>
                <br>
                <br>
                <div class="row">
                    <div class="col-md-6">
                        <strong>
                            <p class="card-text">You like to Play sports</p>
                        </strong>
                    </div>
                    <div class="col-md-3">
                        <select class="custom-select" id="inputGroupSelect09">
                            <option selected>Choose...</option>
                            <option value="1">1 (Strongly Disagree) </option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="3">4</option>
                            <option value="1">5 (Strongly Agree) </option>
                        </select>
                    </div>
                </div>
                <br>
                <br>
                <div class="row">
                    <div class="col-md-6">
                        <strong>
                            <p class="card-text">You like to code and be a FullStack Web Developer</p>
                        </strong>
                    </div>
                    <div class="col-md-3">
                        <select class="custom-select" id="inputGroupSelect10">
                            <option selected>Choose...</option>
                            <option value="1">1 (Strongly Disagree) </option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="3">4</option>
                            <option value="1">5 (Strongly Agree) </option>
                        </select>
                    </div>
                </div>
            </div>
            <button type="button" class="btn btn-primary btn-lg btn-block" id="submit">Submit</button>
            <br>
        </div>
        <div id="resultsModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h2 class="modal-title"><strong>MEET YOUR MATCH!</strong></h2>
                    </div>
                    <div class="modal-body">
                        <h2 id="matchname"></h2>
                        <h2 id="display-content"></h2>
                        <img id="matchpic" src="https://cdn2-www.dogtime.com/assets/uploads/2011/03/puppy-development-460x306.jpg"
                            alt="">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-footer text-muted">
            <div class="container text-center">
                <p><a href="#">GitHub Repo</a>
                    <br> &copy; 2018 Neeraja</p>
            </div>
        </div>
    </div>



    <script type="text/javascript">
        $(document).ready(function () {
            console.log("survey");
            $("#submit").on("click", function () {
                console.log("submit clicked");
                console.log($("#inputGroupSelect01").val());
                if (validateInput() === true) {
                    var newUser = {
                        name: $("#Username").val().trim(),
                        photo: $("#Image").val().trim(),
                        scores: [$("#inputGroupSelect01").val(),
                        $("#inputGroupSelect02").val(),
                        $("#inputGroupSelect03").val(),
                        $("#inputGroupSelect04").val(),
                        $("#inputGroupSelect05").val(),
                        $("#inputGroupSelect06").val(),
                        $("#inputGroupSelect07").val(),
                        $("#inputGroupSelect08").val(),
                        $("#inputGroupSelect09").val(),
                        $("#inputGroupSelect10").val()]
                    }
                    var currentURL = window.location.origin;
                    console.log(currentURL);
                    console.log("newUser");

                    console.log(newUser);


                    $.post(currentURL + "/api/friends", newUser, function (data) {
                        console.log(data);
                        $("#matchname").text(data.name);
                        $("#matchpic").attr("src", data.photo);
                        console.log("survey.html", data);
                    });
                    $('.modal').modal('toggle');
                    $('#Username').val("");
                    $('#Image').val("");
                    $('#inputGroupSelect01').val("");
                    $('#inputGroupSelect02').val("");
                    $('#inputGroupSelect03').val("");
                    $('#inputGroupSelect04').val("");
                    $('#inputGroupSelect05').val("");
                    $('#inputGroupSelect06').val("");
                    $('#inputGroupSelect07').val("");
                    $('#inputGroupSelect08').val("");
                    $('#inputGroupSelect09').val("");
                    $('#inputGroupSelect10').val("");

                } else {
                    alert("Please Complete ALL missing fields!");
                }

            });

            function validateInput() {
                var isValidData = true;
                if ($(".form-control").each(function () {
                    if ($(this).val === "") {
                        isValidData = false;
                    }
                }));

                if ($(".custom-select").each(function () {
                    if ($(this).val === "") {
                        isValidData = false;
                    }
                }));
                return isValidData;
            }
        });

    </script>
</body>

</html>